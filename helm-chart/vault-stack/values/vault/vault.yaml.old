# Vault configuration
vault:
  enabled: true
  image:
    repository: docker.io/hashicorp/vault-enterprise
    tag: "1.20-ent"
    pullPolicy: IfNotPresent

  replicas: 1

  config:
    ui: true
    disableMlock: true
    defaultLeaseTtl: "1h"
    maxLeaseTtl: "24h"
    apiAddr: "http://vault:8200"
    clusterAddr: "http://vault:8201"
    logLevel: "info"

  raft:
    enabled: true
    path: "/vault/file"
    nodeId: "vault-0"

  listener:
    address: "0.0.0.0:8200"
    tlsDisable: true

  telemetry:
    disableHostname: true
    prometheusRetentionTime: "12h"
    unauthenticatedMetricsAccess: true

  # Vault license from secret
  license:
    secretName: vault-license
    secretKey: license

  # Vault token from secret
  token:
    secretName: vault-license
    secretKey: token

  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"

  service:
    type: ClusterIP
    port: 8200
    clusterPort: 8201

  persistence:
    data:
      enabled: true
      size: 10Gi
      storageClass: ""
    logs:
      enabled: true
      size: 5Gi
      storageClass: ""
